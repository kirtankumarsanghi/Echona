<!DOCTYPE html>
<html>
<body>
<h2>Echona â€“ Emotion Based Music</h2>

<form id="f">
  <input name="text" placeholder="How are you feeling?" required><br><br>
  <input type="file" name="image" accept="image/*" required><br><br>
  <input type="file" name="audio" accept=".wav" required><br><br>
  <button>Analyze</button>
</form>

<pre id="out"></pre>

<script>
document.getElementById("f").onsubmit = async e => {
  e.preventDefault();
  const fd = new FormData(e.target);

  const r = await fetch("http://127.0.0.1:5000/analyze", {
    method: "POST",
    body: fd
  });

  const j = await r.json();
  out.innerText = JSON.stringify(j, null, 2);
};
</script>
</body>
</html>
